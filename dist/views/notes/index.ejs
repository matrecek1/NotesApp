<% layout('/layout/boilerplate') -%>
<div class="row row-cols-md-1 row-cols-2 text-center">
    <%- include('../partials/sideNav') %>
    <div class="col-xxl-8 col-md-8 col-xl-10 col-10 offset-1 offset-md-0">
        <h2>Notes</h2>
        <div class="row row-cols-1 row-cols-xl-2 row-cols-xxl-3">
            <% for(note of notes){ %>
                <% const {title, noteBody, _id, dateOfCreation} = note %> 
            <div class="col">
                <div class="card m-2">
                    <div class="card-body">
                        <h5 class="card-title fs-4"><%= title %></h5>
                        <p class="card-text"><%= noteBody %></p>
                        <a href="/notes/<%= _id %>">show</a>
                    </div>
                    <div class="card-footer text-muted">
                        <div class="ms-auto"><%= dateOfCreation.toLocaleDateString() %></div>
                    </div>
                </div>
            </div>
            <% } %>
        </div>
        <nav aria-label="Page navigation example">
            <ul class="pagination">
                <li class="page-item"><a class="page-link" id="prev-page" href="/notes?p=<%= pages.currentPage > 0?pages.currentPage-1:pages.currentPage %> ">Previous</a></li>
                <% for(let i=0;i < pages.numOfPages; i++) {%>
                    <% const active = pages.currentPage === i? "active" : "" %>
                     <li class="page-item <%= active %>"><a class="page-link" href="/notes?p=<%= i %> "><%= i + 1 %> </a></li>
                <% } %>  
                <li class="page-item"><a class="page-link" id="next-page" href="/notes?p=<%=pages.currentPage + 1%>">Next</a></li>
            </ul>
        </nav>
    </div>
</div>
<link rel="stylesheet" href="css/notes/index.css" />



